<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IoT Dashboard</title>
    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.5/firebase-database.js"></script>
    <script>
      // Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCEwGMvPa62SW3-7rxS-acoQko5TsWt9qk",
        authDomain: "test-49a7b.firebaseapp.com",
        databaseURL:
          "https://test-49a7b-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "test-49a7b",
        storageBucket: "test-49a7b.appspot.com",
        messagingSenderId: "285207762548",
        appId: "1:285207762548:web:2bb304869cea9987926321",
        measurementId: "G-NVC73RLNFS",
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);

      // Reference to your Firebase Realtime Database
      const db = firebase.database();

      // Function to fetch and display sensor data
      function fetchSensorData() {
        const sensorsRef = db.ref("sensors");
        sensorsRef.on("value", (snapshot) => {
          const data = snapshot.val();
          document.getElementById(
            "temperature"
          ).innerText = `Temperature: ${data.temperature}ï¿½C`;
          document.getElementById(
            "humidity"
          ).innerText = `Humidity: ${data.humidity}%`;
        });
      }

      // Fetch sensor data on page load
      window.onload = function () {
        fetchSensorData();
      };
    </script>
  </head>
  <body>
    <h1>IoT Dashboard</h1>
    <div id="temperature"></div>
    <div id="humidity"></div>
  </body>
</html>
